
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.musicNet &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="static/music21doc.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="music21 Documentation" href="index.html" />
    <link rel="next" title="music21.abc.base" href="moduleAbcBase.html" />
    <link rel="prev" title="List of Works Found in the music21 Corpus" href="referenceCorpus.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleAbcBase.html" title="music21.abc.base"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="referenceCorpus.html" title="List of Works Found in the music21 Corpus"
             accesskey="P">previous</a> |</li>
        <li><a href="contents.html">music21</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="referenceCorpus.html"
                        title="previous chapter">List of Works Found in the music21 Corpus</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleAbcBase.html"
                        title="next chapter">music21.abc.base</a></p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.musicNet</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#database">Database</a></li>
<li><a class="reference internal" href="#query">Query</a></li>
<li><a class="reference internal" href="#entity">Entity</a></li>
<li><a class="reference internal" href="#node">Node</a></li>
<li><a class="reference internal" href="#relationship">Relationship</a></li>
<li><a class="reference internal" href="#property">Property</a></li>
<li><a class="reference internal" href="#filter">Filter</a></li>
<li><a class="reference internal" href="#moment">Moment</a></li>
</ul>
</li>
</ul>

<h3><a href="contents.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="what.html">What Is Music21?</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickStart.html">Quick Start: Getting Started with music21</a></li>
<li class="toctree-l1"><a class="reference internal" href="overviewNotes.html">Overview: Pitches, Durations, Notes, and Chords</a></li>
<li class="toctree-l1"><a class="reference internal" href="overviewStreams.html">Overview: Streams, Scores, Parts, and Measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="overviewFormats.html">Overview: Importing File and Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="overviewPostTonal.html">Overview: Post-Tonal Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="overviewMeters.html">Overview: Meters, Time Signatures, and Processing Beams, Accents, and Beats</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples and Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing Music21</a></li>
<li class="toctree-l1"><a class="reference internal" href="installMac.html">Installing Music21 on Mac</a></li>
<li class="toctree-l1"><a class="reference internal" href="installWindows.html">Installing Music21 in Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="installLinux.html">Installing Music21 on GNU/Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="installAdvanced.html">Installing Music21 with SVN, setuptools, and PIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="installAdditional.html">Extending Music21 with Additional Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialFinaleMac.html">Tutorial: Setting up Finale on Mac</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">Authors, Acknowledgments, Contributing, and Licensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Applications and Extensions of music21</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Configuring Environment Settings</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="referenceCorpus.html">List of Works Found in the music21 Corpus</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">music21.musicNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAbcBase.html">music21.abc.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAbcTranslate.html">music21.abc.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAbjTranslate.html">music21.abj.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAnalysisCorrelate.html">music21.analysis.correlate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAnalysisDiscrete.html">music21.analysis.discrete</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAnalysisMetrical.html">music21.analysis.metrical</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAnalysisPatel.html">music21.analysis.patel</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleAnalysisWindowed.html">music21.analysis.windowed</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleArticulations.html">music21.articulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleBar.html">music21.bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleBase.html">music21.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleBeam.html">music21.beam</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleBrailleBasic.html">music21.braille.basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleBrailleExamples.html">music21.braille.examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleBrailleTranslate.html">music21.braille.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleBrailleSegment.html">music21.braille.segment</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleClef.html">music21.clef</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleCommon.html">music21.common</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleCompositionPhasing.html">music21.composition.phasing</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleConverter.html">music21.converter</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleCorpusBase.html">music21.corpus.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleChord.html">music21.chord</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleDuration.html">music21.duration</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleDynamics.html">music21.dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleEditorial.html">music21.editorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleEnvironment.html">music21.environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleExpressions.html">music21.expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFeaturesBase.html">music21.features.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFeaturesJSymbolic.html">music21.features.jSymbolic</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFeaturesNative.html">music21.features.native</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassChecker.html">music21.figuredBass.checker</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassExamples.html">music21.figuredBass.examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassFbPitch.html">music21.figuredBass.fbPitch</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassNotation.html">music21.figuredBass.notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassPossibility.html">music21.figuredBass.possibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassRealizer.html">music21.figuredBass.realizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassRealizerScale.html">music21.figuredBass.realizerScale</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassResolution.html">music21.figuredBass.resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassRules.html">music21.figuredBass.rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleFiguredBassSegment.html">music21.figuredBass.segment</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleHarmony.html">music21.harmony</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleHumdrum.html">music21.humdrum</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleHumdrumSpineParser.html">music21.humdrum.spineParser</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleInstrument.html">music21.instrument</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleInterval.html">music21.interval</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleIntervalNetwork.html">music21.intervalNetwork</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleKey.html">music21.key</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMedren.html">music21.medren</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMeter.html">music21.meter</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMetadata.html">music21.metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMidiBase.html">music21.midi.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMidiTranslate.html">music21.midi.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMusedataBase.html">music21.musedata.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMusedataTranslate.html">music21.musedata.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMusedataBase40.html">music21.musedata.base40</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleMusicxmlTranslate.html">music21.musicxml.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleNote.html">music21.note</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleNoteworthyTranslate.html">music21.noteworthy.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="modulePitch.html">music21.pitch</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleRepeat.html">music21.repeat</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleRoman.html">music21.roman</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleRomanTextBase.html">music21.romanText.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleRomanTextTranslate.html">music21.romanText.translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleRomanTextClercqTemperley.html">music21.romanText.clercqTemperley</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleScalaBase.html">music21.scala.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleScale.html">music21.scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleSearch.html">music21.search</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleSerial.html">music21.serial</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleSieve.html">music21.sieve</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleSpanner.html">music21.spanner</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleStream.html">music21.stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleTempo.html">music21.tempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleText.html">music21.text</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleTinyNotation.html">music21.tinyNotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleDemosTheoryAnalysisTheoryAnalyzer.html">music21.demos.theoryAnalysis.theoryAnalyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleTrecentoCadencebook.html">music21.trecento.cadencebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleTrecentoPolyphonicSnippet.html">music21.trecento.polyphonicSnippet</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleTrecentoTonality.html">music21.trecento.tonality</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleVariant.html">music21.variant</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleVexflowBase.html">music21.vexflow.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleVoiceLeading.html">music21.voiceLeading</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleVolume.html">music21.volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleWebappsBase.html">music21.webapps.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduleXmlnode.html">music21.xmlnode</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documenting.html">Documenting music21</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildingDocumentation.html">Building Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usingEclipse.html">Using music21 with SVN for Eclipse</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="music21-musicnet">
<span id="modulemusicnet"></span><h1>music21.musicNet<a class="headerlink" href="#music21-musicnet" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.musicNet"></span><p>This module provides objects for searching music data in a network database
(specifically the Neo4j database), and for adding music21 data to the database.
Queries are constructed by creating relationships between objects (notes, measures, parts, etc.).
This hides much of the mechanics of searching through music data, but
at the same time the database format is relatively fixed, unlike music21.</p>
<p>The <a class="reference internal" href="#music21.musicNet.Database" title="music21.musicNet.Database"><tt class="xref py py-class docutils literal"><span class="pre">Database</span></tt></a> object provides an interface with the database to add a music21
<a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><tt class="xref py py-class docutils literal"><span class="pre">Score</span></tt></a> and get information about the database contents,
such as the available scores, relationships, and properties.</p>
<p>The <a class="reference internal" href="#music21.musicNet.Query" title="music21.musicNet.Query"><tt class="xref py py-class docutils literal"><span class="pre">Query</span></tt></a> object provides an interface for building and executing queries of the database.
It also has a <a class="reference internal" href="#music21.musicNet.Query.music21Score" title="music21.musicNet.Query.music21Score"><tt class="xref py py-meth docutils literal"><span class="pre">Query.music21Score()</span></tt></a> method for generating a music21
Score from a result.</p>
<p>There are also database <a class="reference internal" href="#music21.musicNet.Entity" title="music21.musicNet.Entity"><tt class="xref py py-class docutils literal"><span class="pre">Entity</span></tt></a> objects that help with building the queries, including
<a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a>, <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a>, <a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a>, and <a class="reference internal" href="#music21.musicNet.Filter" title="music21.musicNet.Filter"><tt class="xref py py-class docutils literal"><span class="pre">Filter</span></tt></a> objects.</p>
<p><a class="reference internal" href="#music21.musicNet.Moment" title="music21.musicNet.Moment"><tt class="xref py py-class docutils literal"><span class="pre">Moment</span></tt></a> objects can be added to music21 objects using the module-level
<a class="reference internal" href="#music21.musicNet.addMomentsToScore" title="music21.musicNet.addMomentsToScore"><tt class="xref py py-meth docutils literal"><span class="pre">addMomentsToScore()</span></tt></a> method. These objects have a similar function to
<a class="reference internal" href="moduleVoiceLeading.html#music21.voiceLeading.VerticalSlice" title="music21.voiceLeading.VerticalSlice"><tt class="xref py py-class docutils literal"><span class="pre">VerticalSlice</span></tt></a> objects. When present in a score, they
add cross-<a class="reference internal" href="moduleStream.html#music21.stream.Part" title="music21.stream.Part"><tt class="xref py py-class docutils literal"><span class="pre">Part</span></tt></a> relationships to Notes in the database.</p>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>This module requires that the <a class="reference external" href="http://py2neo.org/">py2neo</a> Python module be installed,
and that you have access to a <a class="reference external" href="http://neo4j.org/">Neo4j</a> database (version 1.4 or newer).</p>
<p>The database must be configured to use automatic indexing. (Well, technically you don&#8217;t
have to, but it will make open-ended searches a lot faster.) This involves editing the
<cite>conf/neo4j.properties</cite> file in the database folder. The following lines should be
uncommented (the leading hash mark should be deleted) and edited as shown:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">node_auto_indexing</span><span class="o">=</span><span class="n">true</span>
<span class="n">node_keys_indexable</span><span class="o">=</span><span class="nb">type</span>
<span class="n">relationship_auto_indexing</span><span class="o">=</span><span class="n">true</span>
<span class="n">relationship_keys_indexable</span><span class="o">=</span><span class="nb">type</span>
</pre></div>
</div>
<p>Neo4j operation is nearly plug-and-play. To start the database server from the command line,
just move to the database directory and enter:</p>
<div class="highlight-python"><pre>$ bin/neo4j start</pre>
</div>
<dl class="function">
<dt id="music21.musicNet.addMomentsToScore">
<tt class="descclassname">music21.musicNet.</tt><tt class="descname">addMomentsToScore</tt><big>(</big><em>score</em><big>)</big><a class="headerlink" href="#music21.musicNet.addMomentsToScore" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <a class="reference internal" href="#music21.musicNet.Moment" title="music21.musicNet.Moment"><tt class="xref py py-class docutils literal"><span class="pre">Moment</span></tt></a> objects to a <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><tt class="xref py py-class docutils literal"><span class="pre">Score</span></tt></a>.
Without them, the <a class="reference internal" href="#music21.musicNet.Database.addScore" title="music21.musicNet.Database.addScore"><tt class="xref py py-meth docutils literal"><span class="pre">Database.addScore()</span></tt></a> method will not
be able to add vertical note relationships to the database, such as
<cite>NoteSimultaneousWithNote</cite>, <cite>NoteStartsAtMoment</cite>, and <cite>NoteSustainedAtMoment</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bwv84_5</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;bach/bwv84.5.mxl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">bwv84_5</span><span class="p">)</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21.musicNet</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addMomentsToScore</span><span class="p">(</span><span class="n">bwv84_5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">bwv84_5</span><span class="p">)</span>
<span class="go">73</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="database">
<h2>Database<a class="headerlink" href="#database" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.musicNet.Database">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Database</tt><big>(</big><em>uri='http://localhost:7474/db/data/'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#music21.musicNet.Database" title="Permalink to this definition">¶</a></dt>
<dd><p>An object that connects to a Neo4j database, imports music21 scores,
and provides information about the contents of the database.</p>
<p>By default it assumes the Neo4j database is available at the standard
location on the current machine (<cite>http://localhost:7474/db/data/</cite>), but the
<cite>uri</cite> argument can be used to specify a remote or non-standard location.
(Note that the URI should end wish a slash!) Any keyword arguments are
passed on to a <tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.GraphDatabaseService</span></tt> object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">db</span><span class="o">.</span><span class="n">graph_db</span>
<span class="go">GraphDatabaseService(http://localhost:7474/db/data/)</span>
</pre></div>
</div>
<p><strong>Database</strong> <strong>attributes</strong></p>
<blockquote>
<div><dl class="attribute">
<dt id="music21.musicNet.Database.graph_db">
<tt class="descname">graph_db</tt><a class="headerlink" href="#music21.musicNet.Database.graph_db" title="Permalink to this definition">¶</a></dt>
<dd><p>The instance of a <tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.GraphDatabaseService</span></tt> object connected to this object, which is in turn connected to a Neo4j server either at the default location on the present computer, or the one specified by the Database <cite>uri</cite> argument.</p>
</dd></dl>

</div></blockquote>
<p><strong>Database</strong> <strong>methods</strong></p>
<blockquote>
<div><dl class="method">
<dt id="music21.musicNet.Database.wipeDatabase">
<tt class="descname">wipeDatabase</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Database.wipeDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all relationships and nodes from the database.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">wipeDatabase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">db</span><span class="o">.</span><span class="n">graph_db</span><span class="o">.</span><span class="n">get_relationship_count</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">db</span><span class="o">.</span><span class="n">graph_db</span><span class="o">.</span><span class="n">get_node_count</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<p>The node count can never go below 1 because Neo4j always keeps a reference node
in its network graph.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.addScore">
<tt class="descname">addScore</tt><big>(</big><em>score</em>, <em>index=None</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#music21.musicNet.Database.addScore" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a music21 <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><tt class="xref py py-class docutils literal"><span class="pre">Score</span></tt></a> to the database.
In case the score does not contain <a class="reference internal" href="moduleMetadata.html#music21.metadata.Metadata" title="music21.metadata.Metadata"><tt class="xref py py-class docutils literal"><span class="pre">Metadata</span></tt></a> information
about the name of the score, or if we want a standardized name for each score,
we can add an <cite>index</cite> argument, which will become a property on the score node.
To see progress on the import, we can set the <cite>verbose</cite> argument to <cite>True</cite>.</p>
<p>In order to be able to access vertical note relationships such as
<cite>NoteSimultaneousWithNote</cite>, <cite>NoteStartsAtMoment</cite>, and <cite>NoteSustainedAtMoment</cite>,
we need to add <a class="reference internal" href="#music21.musicNet.Moment" title="music21.musicNet.Moment"><tt class="xref py py-class docutils literal"><span class="pre">Moment</span></tt></a> objects to the score using the
module-level <a class="reference internal" href="#music21.musicNet.addMomentsToScore" title="music21.musicNet.addMomentsToScore"><tt class="xref py py-meth docutils literal"><span class="pre">addMomentsToScore()</span></tt></a> method before calling this method.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bwv84_5</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;bach/bwv84.5.mxl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">addMomentsToScore</span><span class="p">(</span><span class="n">bwv84_5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">addScore</span><span class="p">(</span><span class="n">bwv84_5</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s">&#39;bach/bwv84.5.mxl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">db</span><span class="o">.</span><span class="n">graph_db</span><span class="o">.</span><span class="n">get_node_count</span><span class="p">()</span>
<span class="go">459</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">db</span><span class="o">.</span><span class="n">graph_db</span><span class="o">.</span><span class="n">get_relationship_count</span><span class="p">()</span>
<span class="go">1519</span>
</pre></div>
</div>
<p><em>Note that in the current version, this method is destructive to the score object
(some objects and attributes are destroyed or added).</em></p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.listScores">
<tt class="descname">listScores</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Database.listScores" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of dict objects with information about the scores that have been added
to the database, with keys for <cite>movementName</cite>, <cite>_names</cite> (a list of
contributor/composer names), and <cite>index</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expectedScores</span> <span class="o">=</span> <span class="p">[{</span><span class="s">u&#39;index&#39;</span><span class="p">:</span> <span class="s">u&#39;bach/bwv84.5.mxl&#39;</span><span class="p">,</span> <span class="s">u&#39;_names&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">None</span><span class="p">],</span> <span class="s">u&#39;movementName&#39;</span><span class="p">:</span> <span class="s">u&#39;bwv84.5.mxl&#39;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">listScores</span><span class="p">()</span> <span class="o">==</span> <span class="n">expectedScores</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.listNodeTypes">
<tt class="descname">listNodeTypes</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Database.listNodeTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a set of node types available in the database.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nTypes</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">listNodeTypes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&#39;Instrument&#39;</span> <span class="ow">in</span> <span class="n">nTypes</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.listNodeProperties">
<tt class="descname">listNodeProperties</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Database.listNodeProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of node properties in the database, represented as tuples
(node type, property name).</p>
<p>For instance, to see what properties are available in score nodes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">props</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">listNodeProperties</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">props</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;Score&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="go">[(u&#39;Score&#39;, u&#39;_atSoundingPitch&#39;), (u&#39;Score&#39;, u&#39;_priority&#39;), (u&#39;Score&#39;, u&#39;corpusFilepath&#39;), (u&#39;Score&#39;, u&#39;hideObjectOnPrint&#39;), (u&#39;Score&#39;, u&#39;index&#39;), (u&#39;Score&#39;, u&#39;offset&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.listRelationshipTypes">
<tt class="descname">listRelationshipTypes</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Database.listRelationshipTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of relationship types in the database, represented as
dict objects with keys for <cite>start</cite>, <cite>type</cite>, and <cite>end</cite>. By convention,
starts and ends in relationships read as a right-directed arrow:</p>
<div class="highlight-python"><pre>Start--Relationship--&gt;End</pre>
</div>
<p>For instance, to see if any of the scores in the database
have <cite>MetadataInScore</cite> relationships (let&#8217;s hope they do!), we could do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rTypes</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">listRelationshipTypes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">rTypes</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;MetadataInScore&#39;</span><span class="p">]</span>
<span class="go">[u&#39;MetadataInScore&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.listRelationshipProperties">
<tt class="descname">listRelationshipProperties</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Database.listRelationshipProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of relationship properties in the database, represented as tuples
of relationship type and property name.</p>
<blockquote>
<div><p>For instance, to see what properties are available in <cite>NoteSimultaneousWithNote</cite>
relationships:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rProps</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">listRelationshipProperties</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">rProps</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s">&#39;NoteSimultaneousWithNote&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="go">[(u&#39;NoteSimultaneousWithNote&#39;, u&#39;harmonicInterval&#39;), (u&#39;NoteSimultaneousWithNote&#39;, u&#39;sameOffset&#39;), (u&#39;NoteSimultaneousWithNote&#39;, u&#39;simpleHarmonicInterval&#39;)]</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.printStructure">
<tt class="descname">printStructure</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Database.printStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a wrapper for three other methods: it prints the output
from <a class="reference internal" href="#music21.musicNet.Database.listRelationshipTypes" title="music21.musicNet.Database.listRelationshipTypes"><tt class="xref py py-meth docutils literal"><span class="pre">listRelationshipTypes()</span></tt></a>, <a class="reference internal" href="#music21.musicNet.Database.listNodeProperties" title="music21.musicNet.Database.listNodeProperties"><tt class="xref py py-meth docutils literal"><span class="pre">listNodeProperties()</span></tt></a>,
<a class="reference internal" href="#music21.musicNet.Database.listRelationshipProperties" title="music21.musicNet.Database.listRelationshipProperties"><tt class="xref py py-meth docutils literal"><span class="pre">listRelationshipProperties()</span></tt></a> in a long but readable list.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Database.addPropertyCallback">
<tt class="descname">addPropertyCallback</tt><big>(</big><em>entity</em>, <em>callback</em><big>)</big><a class="headerlink" href="#music21.musicNet.Database.addPropertyCallback" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>For advanced use only.</strong></p>
<p>All music21 objects have default handling when being imported. When
default handling isn&#8217;t enough, one or more callbacks can be added to
preprocess the object, or prevent it from being added to the database.
The <cite>entity</cite> argument is the class name the callback should be added to
(as a string), and the <cite>callback</cite> argument is a function object to be
called. Multiple callbacks can be added to the same class, and an object
can have callbacks for multiple classes (for instance, a trill will have
callbacks for both &#8216;Trill&#8217; and &#8216;Expression&#8217;). Built-in callbacks are set
in the internal <tt class="xref py py-meth docutils literal"><span class="pre">_defaultCallbacks()</span></tt> method.</p>
</dd></dl>

</div></blockquote>
</dd></dl>

</div>
<div class="section" id="query">
<h2>Query<a class="headerlink" href="#query" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.musicNet.Query">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Query</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query" title="Permalink to this definition">¶</a></dt>
<dd><p>This object provides an interface for building and executing queries of the
database. The first argument to the object must be an existing
<a class="reference internal" href="#music21.musicNet.Database" title="music21.musicNet.Database"><tt class="xref py py-class docutils literal"><span class="pre">Database</span></tt></a> object.</p>
<p>All queries begin with a starting point, either a node or a relationship.
This point is set with either the <a class="reference internal" href="#music21.musicNet.Query.setStartNode" title="music21.musicNet.Query.setStartNode"><tt class="xref py py-meth docutils literal"><span class="pre">setStartNode()</span></tt></a> or
<a class="reference internal" href="#music21.musicNet.Query.setStartRelationship" title="music21.musicNet.Query.setStartRelationship"><tt class="xref py py-meth docutils literal"><span class="pre">setStartRelationship()</span></tt></a> method (but not both).  These nodes and
relationships are represented by <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> and <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a>
objects, which are usually created automatically. Note that a starting point
alone is a complete query structure!</p>
<p>To get the results and metadata for a query, we use the <a class="reference internal" href="#music21.musicNet.Query.execute" title="music21.musicNet.Query.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a>,
<a class="reference internal" href="#music21.musicNet.Query.getResults" title="music21.musicNet.Query.getResults"><tt class="xref py py-meth docutils literal"><span class="pre">getResults()</span></tt></a>, or <a class="reference internal" href="#music21.musicNet.Query.getMetadata" title="music21.musicNet.Query.getMetadata"><tt class="xref py py-meth docutils literal"><span class="pre">getMetadata()</span></tt></a> methods.</p>
<p>Optionally, we can add a number of restrictions to the search. The
<a class="reference internal" href="#music21.musicNet.Query.addRelationship" title="music21.musicNet.Query.addRelationship"><tt class="xref py py-meth docutils literal"><span class="pre">addRelationship()</span></tt></a> method allows us to connect our start node/relationship to
other nodes. Any number of nodes can be connected using relationships.
Each node and relationship in the database has properties, and we use them to filter
our search using the <a class="reference internal" href="#music21.musicNet.Query.addComparisonFilter" title="music21.musicNet.Query.addComparisonFilter"><tt class="xref py py-meth docutils literal"><span class="pre">addComparisonFilter()</span></tt></a> method.</p>
<p>By default, results are returned as references to entities in the database,
which can be used by the <a class="reference internal" href="#music21.musicNet.Query.music21Score" title="music21.musicNet.Query.music21Score"><tt class="xref py py-meth docutils literal"><span class="pre">music21Score()</span></tt></a> method to return a music21
score fragment for any result row. If we want specific data from the search,
we can pass those database entities to the <a class="reference internal" href="#music21.musicNet.Query.getResultProperties" title="music21.musicNet.Query.getResultProperties"><tt class="xref py py-meth docutils literal"><span class="pre">getResultProperties()</span></tt></a>
method to get all of their properties, we can use the <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">addReturns()</span></tt></a>
method to specify the particular properties we&#8217;re interested in.</p>
<p>Results are returned in no apparent order, but we can force the database to return
them sorted according to specific properties using the <a class="reference internal" href="#music21.musicNet.Query.setOrder" title="music21.musicNet.Query.setOrder"><tt class="xref py py-meth docutils literal"><span class="pre">setOrder()</span></tt></a> method. And
if we want to limit the number of results, we can use the <a class="reference internal" href="#music21.musicNet.Query.setLimit" title="music21.musicNet.Query.setLimit"><tt class="xref py py-meth docutils literal"><span class="pre">setLimit()</span></tt></a> method.</p>
<p>To understand what&#8217;s going on behind the scenes,
it may be helpful to read the documentation on the Neo4j
<a class="reference external" href="http://docs.neo4j.org/chunked/stable/cypher-query-lang.html">Cypher query language</a>.</p>
<p><strong>Query</strong> <strong>methods</strong></p>
<blockquote>
<div><dl class="method">
<dt id="music21.musicNet.Query.setStartNode">
<tt class="descname">setStartNode</tt><big>(</big><em>node=None</em>, <em>nodeType=None</em>, <em>name=None</em>, <em>nodeId=None</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.setStartNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a starting <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> for the Query, and returns that node.
Searches begin from this point and branch out to find patterns that fit the query.
If we already have a Node object, that can be used as the <cite>node</cite> argument.</p>
<p>Without a <cite>node</cite> argument a Node is created implicitly,
optionally using the <cite>nodeType</cite> argument to specify its type. (Without a type, the
node will match any type.) The list of available relationship types can be obtained
from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a> method.</p>
<p>A name attribute will be randomly generated unless a <cite>name</cite> argument
is given. There is no particular reason to name objects unless we want to control
the query text exactly, however.</p>
<p>Each node in a Neo4j database has a numeric ID. If a Node with an ID
number is passed in to the <cite>node</cite> argument, or if a numeric <cite>nodeId</cite>
argument is given, that ID will be used to target the search.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">q</span><span class="o">.</span><span class="n">setStartNode</span><span class="p">(</span><span class="n">nodeType</span><span class="o">=</span><span class="s">&#39;Metadata&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Metadata1&#39;</span><span class="p">)</span>
<span class="go">Metadata1</span>
</pre></div>
</div>
<p>Calling this method again, or calling <a class="reference internal" href="#music21.musicNet.Query.setStartRelationship" title="music21.musicNet.Query.setStartRelationship"><tt class="xref py py-meth docutils literal"><span class="pre">setStartRelationship()</span></tt></a>, will
reset the start point for the Query.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.execute">
<tt class="descname">execute</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Query.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a query of the database using the current state of the Query object.
Returns a tuple containing first the results, then the query metadata.
See <a class="reference internal" href="#music21.musicNet.Query.getResults" title="music21.musicNet.Query.getResults"><tt class="xref py py-meth docutils literal"><span class="pre">getResults()</span></tt></a> and <a class="reference internal" href="#music21.musicNet.Query.getMetadata" title="music21.musicNet.Query.getMetadata"><tt class="xref py py-meth docutils literal"><span class="pre">getMetadata()</span></tt></a> for information on their contents.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">setStartNode</span><span class="p">(</span><span class="n">nodeType</span><span class="o">=</span><span class="s">&#39;Score&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Score1&#39;</span><span class="p">)</span>
<span class="go">Score1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">q</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
<span class="go">([[Node(http://localhost:7474/db/data/node/...)]], [u&#39;Score1&#39;])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.getResults">
<tt class="descname">getResults</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Query.getResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the results of the query as a list of lists. The <a class="reference internal" href="#music21.musicNet.Query.execute" title="music21.musicNet.Query.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a>
method is called automatically to obtain the results if it has not already
been called. Each call to this method will return the same list of results
until the <a class="reference internal" href="#music21.musicNet.Query.execute" title="music21.musicNet.Query.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a> method is called again.</p>
<p>If the <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">addReturns()</span></tt></a> method was used to specify particular
properties, then each result is a list of those properties as text strings.</p>
<p>If no return properties have been specified by the <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">addReturns()</span></tt></a>
method, each result will be a list of <tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Node</span></tt> and
<tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Relationship</span></tt> objects. In this case, a result list
can be passed to <a class="reference internal" href="#music21.musicNet.Query.music21Score" title="music21.musicNet.Query.music21Score"><tt class="xref py py-meth docutils literal"><span class="pre">music21Score()</span></tt></a> to get a music21
<a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><tt class="xref py py-class docutils literal"><span class="pre">Score</span></tt></a> fragment containing the result. Or
passing a result list to the <a class="reference internal" href="#music21.musicNet.Query.getResultProperties" title="music21.musicNet.Query.getResultProperties"><tt class="xref py py-meth docutils literal"><span class="pre">getResultProperties()</span></tt></a> method will add
all the properties of the objects to the list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">setStartNode</span><span class="p">(</span><span class="n">nodeType</span><span class="o">=</span><span class="s">&#39;Score&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Score1&#39;</span><span class="p">)</span>
<span class="go">Score1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">q</span><span class="o">.</span><span class="n">getResults</span><span class="p">()</span>
<span class="go">[[Node(http://localhost:7474/db/data/node/...)]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.getMetadata">
<tt class="descname">getMetadata</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Query.getMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the metadata for the query (that is, the column names) as a list. The <a class="reference internal" href="#music21.musicNet.Query.execute" title="music21.musicNet.Query.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a>
method is called automatically to obtain the results if it has not already
been called. Each call to this method will return the same metadata
until the <a class="reference internal" href="#music21.musicNet.Query.execute" title="music21.musicNet.Query.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a> method is called again.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">setStartNode</span><span class="p">(</span><span class="n">nodeType</span><span class="o">=</span><span class="s">&#39;Score&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Score1&#39;</span><span class="p">)</span>
<span class="go">Score1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">q</span><span class="o">.</span><span class="n">getMetadata</span><span class="p">()</span>
<span class="go">[u&#39;Score1&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.getResultProperties">
<tt class="descname">getResultProperties</tt><big>(</big><em>result</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.getResultProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of <tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Node</span></tt> and
<tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Relationship</span></tt> objects (the default result format
if the <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">addReturns()</span></tt></a> method wasn&#8217;t called), and returns a new list
in which each object has been replaced by a tuple: the original object,
then a dict of that object&#8217;s database properties.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">setStartNode</span><span class="p">(</span><span class="n">nodeType</span><span class="o">=</span><span class="s">&#39;Score&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Score1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">getResults</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodeInfo</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">getResultProperties</span><span class="p">(</span><span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nodeInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(u&#39;_atSoundingPitch&#39;, u&#39;unknown&#39;), (u&#39;_priority&#39;, 0), (u&#39;corpusFilepath&#39;, u&#39;bach/bwv84.5.mxl&#39;), (u&#39;hideObjectOnPrint&#39;, False), (u&#39;index&#39;, u&#39;bach/bwv84.5.mxl&#39;), (u&#39;offset&#39;, 0.0), (u&#39;type&#39;, u&#39;Score&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.setStartRelationship">
<tt class="descname">setStartRelationship</tt><big>(</big><em>relation=None</em>, <em>relationType=None</em>, <em>start=None</em>, <em>end=None</em>, <em>name=None</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.setStartRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a starting <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a> for the Query, and returns that relationship.
Searches begin from this point and branch out to find patterns that fit the query.</p>
<p>Without a <cite>relation</cite> argument a Relationship is created implicitly,
optionally using the <cite>relationType</cite> argument to specify its type. (Without a type, the
relationship will match any type.) The list of available relationship types can be
obtained from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a> method.</p>
<p>The <cite>start</cite> and <cite>end</cite> arguments take <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> objects, and allow the relationship
to be connected to other nodes in the query. If either is omitted, a new node object
is created implicitly to fill it. By convention a relationship is understood to be
a right-directed arrow:</p>
<div class="highlight-python"><pre>Start--Relationship--&gt;End</pre>
</div>
<p>A name attribute will be randomly generated unless
a <cite>name</cite> argument is given. There is no particular reason to name objects or create them
explicitly, unless we want to control the query text exactly.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">nodeType</span><span class="o">=</span><span class="s">&#39;Score&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Score1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="s">&#39;Part&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Part1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pIS</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">setStartRelationship</span><span class="p">(</span><span class="n">relationType</span><span class="o">=</span><span class="s">&#39;PartInScore&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;PIS1&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">part</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">score</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">pIS</span>
<span class="go">(Part1)-[PIS1:PartInScore]-&gt;(Score1)</span>
</pre></div>
</div>
<p>Calling this method again, or calling <a class="reference internal" href="#music21.musicNet.Query.setStartNode" title="music21.musicNet.Query.setStartNode"><tt class="xref py py-meth docutils literal"><span class="pre">setStartNode()</span></tt></a>, will
reset the start point for the Query.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.addRelationship">
<tt class="descname">addRelationship</tt><big>(</big><em>relation=None</em>, <em>relationType=None</em>, <em>start=None</em>, <em>end=None</em>, <em>name=None</em>, <em>optional=False</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.addRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a relationship to the query, and returns the corresponding
<a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a> object. Any number of relationships can be added to a query.</p>
<p>Without a Relationship object passed to the <cite>relation</cite> argument, a
Relationship is created implicitly, optionally using the <cite>relationType</cite>
argument to specify its type. (Without a type, the relationship will
match any type.) The list of available relationship types can be
obtained from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a> method.</p>
<p>The <cite>start</cite> and <cite>end</cite> arguments take <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> objects, and allow the relationship
to be connected to other nodes in the query. If either is omitted, a new node object
is created implicitly to fill it. By convention a relationship is understood to be
a right-directed arrow:</p>
<div class="highlight-python"><pre>Start--Relationship--&gt;End</pre>
</div>
<p>A name attribute will be randomly generated unless
a <cite>name</cite> argument is given. There is no particular reason to name objects or create them
explicitly, unless we want to control the query text exactly.</p>
<p>Note that in the following example <cite>pIS.start</cite> is synonymous with <cite>part</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="s">&#39;Part&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Part1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pIS</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">setStartRelationship</span><span class="p">(</span><span class="n">relationType</span><span class="o">=</span><span class="s">&#39;PartInScore&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;PIS1&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">part</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">measure</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="s">&#39;Measure&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Measure1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mIP</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">addRelationship</span><span class="p">(</span><span class="n">relationType</span><span class="o">=</span><span class="s">&#39;MeasureInPart&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;MIP1&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">measure</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">pIS</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mIP</span>
<span class="go">(Measure1)-[MIP1:MeasureInPart]-&gt;(Part1)</span>
</pre></div>
</div>
<p>Setting the <cite>optional</cite> argument to True will cause the query pattern to match even
if this relationship doesn&#8217;t exist in a particular instance.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.addComparisonFilter">
<tt class="descname">addComparisonFilter</tt><big>(</big><em>pre</em>, <em>operator</em>, <em>post</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.addComparisonFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a condition to the query that must be true in order for the query to match, and returns
the corresponding <a class="reference internal" href="#music21.musicNet.Filter" title="music21.musicNet.Filter"><tt class="xref py py-class docutils literal"><span class="pre">Filter</span></tt></a> object.</p>
<p>The <cite>pre</cite> and <cite>post</cite> arguments should be either:</p>
<ul class="simple">
<li>an attribute of a <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> or <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a> (which will return a
<a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a> object), or</li>
<li>some text or a number.</li>
</ul>
<p>The list of available properties can be obtained from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a>
method. Of course, if any of those Nodes or Relationships aren&#8217;t objects in the query,
the query will fail to match.</p>
<p>The <cite>operator</cite> argument is a text string of the comparison we want to test
between the two properties. The available comparison operators are
<cite>=, &lt;&gt;, &lt;, &gt;, &lt;=,</cite> and <cite>&gt;=</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="s">&#39;Note&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Note1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">q</span><span class="o">.</span><span class="n">addComparisonFilter</span><span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">midi</span><span class="p">,</span> <span class="s">&#39;&lt;&#39;</span><span class="p">,</span> <span class="mi">43</span><span class="p">)</span>
<span class="go">Note1.midi &lt; 43</span>
</pre></div>
</div>
<p>There is no need for us to build all these relationships between notes, measures, parts,
and scores, unless we want to return information about them or add filters to them.
In this case the Note object by itself would be enough
(using just the <a class="reference internal" href="#music21.musicNet.Query.setStartNode" title="music21.musicNet.Query.setStartNode"><tt class="xref py py-meth docutils literal"><span class="pre">setStartNode()</span></tt></a> method).</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.addCypherFilter">
<tt class="descname">addCypherFilter</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.addCypherFilter" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>For advanced use. This method will be probably be deprecated in future versions.</strong></p>
<p>Adds a condition written in
<a class="reference external" href="http://docs.neo4j.org/chunked/milestone/query-where.html">Cypher</a> to the query.
This method is provided for complex queries that require filters more complicated
than basic comparisons.</p>
<p>In referring to a entity being used in the query, the Cypher query text must use
the name of the entity, which can be obtained from its <cite>name</cite> attribute.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nSWN</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">setStartRelationship</span><span class="p">(</span><span class="n">relationType</span><span class="o">=</span><span class="s">&#39;NoteSimultaneousWithNote&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">addCypherFilter</span><span class="p">(</span><span class="s">&#39;abs(</span><span class="si">%s</span><span class="s">.midi- </span><span class="si">%s</span><span class="s">.midi) </span><span class="si">%%</span><span class="s"> 12 = 7&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">nSWN</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">nSWN</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">getResults</span><span class="p">())</span>
<span class="go">70</span>
</pre></div>
</div>
<p>But we can create this filter more directly using the <cite>simpleHarmonicInterval</cite> property
of <cite>NoteSimultaneousWithNote</cite> relationships:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">q</span><span class="o">.</span><span class="n">addComparisonFilter</span><span class="p">(</span><span class="n">nSWN</span><span class="o">.</span><span class="n">simpleHarmonicInterval</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.addReturns">
<tt class="descname">addReturns</tt><big>(</big><em>*props</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.addReturns" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a list of properties to be returned from the query. Each of these properties
should be a <a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a> object returned by accessing an attribute of a
<a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> or <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a> object. The list of available attributes can be
obtained using the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a> method.</p>
<p>If this method is set, the requested properties will be returned as text, numbers,
and so forth. If it is not set, the query will return a list of
<tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Node</span></tt> and <tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Relationship</span></tt> objects.</p>
<p>This method can be called multiple times, and the items from each call will be appended
to the list of returns.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nSWN</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">setStartRelationship</span><span class="p">(</span><span class="n">relationType</span><span class="o">=</span><span class="s">&#39;NoteSimultaneousWithNote&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">addComparisonFilter</span><span class="p">(</span><span class="n">nSWN</span><span class="o">.</span><span class="n">simpleHarmonicInterval</span><span class="p">,</span> <span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">addReturns</span><span class="p">(</span><span class="n">nSWN</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">midi</span><span class="p">,</span> <span class="n">nSWN</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">midi</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">getResults</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.setOrder">
<tt class="descname">setOrder</tt><big>(</big><em>propertyObject</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.setOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies that the results should be sorted according to the <a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a>
given as the argument, and then returned in that order. Property objects can be obtained
by accessing the attributes of <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> and <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a> objects.
The list of available properties can be obtained from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a>
method.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.setLimit">
<tt class="descname">setLimit</tt><big>(</big><em>limit</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.setLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the maximum number of results that can be returned from the query.
By default, the database will search for all matches to the query.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.music21Score">
<tt class="descname">music21Score</tt><big>(</big><em>resultList</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.music21Score" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a music21 <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><tt class="xref py py-class docutils literal"><span class="pre">Score</span></tt></a> object, given a single
query result (which is by default a list of <tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Node</span></tt>
and <tt class="xref py py-class docutils literal"><span class="pre">py2neo.neo4j.Relationship</span></tt> objects). This method will only
work if the <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">addReturns()</span></tt></a> method has not been called.</p>
<p>The Score will contain its Metadata, all the measures and parts containing the query results,
and all the objects contained in those measures, but no more than that.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.setObjectCallback">
<tt class="descname">setObjectCallback</tt><big>(</big><em>entity</em>, <em>callback</em><big>)</big><a class="headerlink" href="#music21.musicNet.Query.setObjectCallback" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>For advanced use.</strong></p>
<p>All node types have default handling when being exported to music21 objects.
When default handling isn&#8217;t enough, one or more callbacks can be added
to preprocess the object, or prevent it from being added to the Score.
The <cite>entity</cite> argument is the class name the callback should be added to
(as a string), and the <cite>callback</cite> argument is a function object to be called.
Only one callback is allowed per class name, so each call to this method
will replace the previous value set by the method for that entity.
Built-in callbacks are set in the internal <tt class="xref py py-meth docutils literal"><span class="pre">_defaultCallbacks()</span></tt> method.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Query.printResults">
<tt class="descname">printResults</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Query.printResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out the results of a query in tab-delimited format with the column names in
the first row. If the <a class="reference internal" href="#music21.musicNet.Query.execute" title="music21.musicNet.Query.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a> method has not been called, it is called
automatically.</p>
</dd></dl>

</div></blockquote>
</dd></dl>

</div>
<div class="section" id="entity">
<h2>Entity<a class="headerlink" href="#entity" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.musicNet.Entity">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Entity</tt><big>(</big><em>query</em><big>)</big><a class="headerlink" href="#music21.musicNet.Entity" title="Permalink to this definition">¶</a></dt>
<dd><p>The generic class of objects that are used to construct Queries.
All entities require a <a class="reference internal" href="#music21.musicNet.Query" title="music21.musicNet.Query"><tt class="xref py py-class docutils literal"><span class="pre">Query</span></tt></a> object as their first argument
to establish the namespace which they belong to.</p>
</dd></dl>

</div>
<div class="section" id="node">
<h2>Node<a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: <a class="reference internal" href="#music21.musicNet.Entity" title="music21.musicNet.Entity"><tt class="xref py py-class docutils literal"><span class="pre">Entity</span></tt></a></p>
<dl class="class">
<dt id="music21.musicNet.Node">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Node</tt><big>(</big><em>query</em>, <em>nodeType=None</em>, <em>name=None</em>, <em>nodeId=None</em><big>)</big><a class="headerlink" href="#music21.musicNet.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>An object that represents a database node in a query.</p>
<p>If the Node is created without a nodeType, the node will match any type.
The list of available node types is available
from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a> method.</p>
<p>A name attribute will be randomly generated unless a <cite>name</cite> argument
is given. There is no particular reason to name objects unless we want to control
the query text exactly.</p>
<p>Each node in a Neo4j database has a numeric ID, and passing that ID to the <cite>nodeId</cite> argument
will save it in the Node&#8217;s <cite>id</cite> attribute.
If a Node with an ID number is passed to the <a class="reference internal" href="#music21.musicNet.Query.setStartNode" title="music21.musicNet.Query.setStartNode"><tt class="xref py py-meth docutils literal"><span class="pre">Query.setStartNode()</span></tt></a> method,
that ID will be used to target the search. Otherwise the <cite>id</cite> attribute is ignored.</p>
<p>Any properties of a node type can be accessed as an attribute of the Node. Accessing a
Node&#8217;s attribute will return a <a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a> object for that node property, which can be
used with the <a class="reference internal" href="#music21.musicNet.Query.addComparisonFilter" title="music21.musicNet.Query.addComparisonFilter"><tt class="xref py py-meth docutils literal"><span class="pre">Query.addComparisonFilter()</span></tt></a> and <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">Query.addReturns()</span></tt></a> methods.</p>
</dd></dl>

</div>
<div class="section" id="relationship">
<h2>Relationship<a class="headerlink" href="#relationship" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: <a class="reference internal" href="#music21.musicNet.Entity" title="music21.musicNet.Entity"><tt class="xref py py-class docutils literal"><span class="pre">Entity</span></tt></a></p>
<dl class="class">
<dt id="music21.musicNet.Relationship">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Relationship</tt><big>(</big><em>query</em>, <em>relationType=None</em>, <em>start=None</em>, <em>end=None</em>, <em>name=None</em>, <em>optional=False</em><big>)</big><a class="headerlink" href="#music21.musicNet.Relationship" title="Permalink to this definition">¶</a></dt>
<dd><p>An object that represents a database relationship in a query.</p>
<p>If the Relationship is created without a relationType, the relationship will match any type.
The list of available relationship types is available
from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a> method.</p>
<p>The <cite>start</cite> and <cite>end</cite> arguments take <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> objects, and allow the relationship
to be connected to other nodes in the query. If either is omitted, a new node object
is created implicitly to fill it.</p>
<p>A name attribute will be randomly generated unless a <cite>name</cite> argument
is given. There is no particular reason to name objects unless we want to control
the query text exactly.</p>
<p>Each node in a Neo4j database has a numeric ID, and passing that ID to the
<cite>nodeId</cite> argument will save it in the Node&#8217;s <cite>id</cite> attribute. If a Node
with an ID number is passed to the <a class="reference internal" href="#music21.musicNet.Query.setStartNode" title="music21.musicNet.Query.setStartNode"><tt class="xref py py-meth docutils literal"><span class="pre">Query.setStartNode()</span></tt></a> method, that
ID will be used to target the search. Otherwise the <cite>id</cite> attribute is
ignored.</p>
<p>Any properties of a relationship type can be accessed as an attribute of the
Relationship. Accessing a Relationship&#8217;s attribute will return a
<a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a> object for that relationship property, which can be used
with the <a class="reference internal" href="#music21.musicNet.Query.addComparisonFilter" title="music21.musicNet.Query.addComparisonFilter"><tt class="xref py py-meth docutils literal"><span class="pre">Query.addComparisonFilter()</span></tt></a> and <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">Query.addReturns()</span></tt></a>
methods.</p>
<p>Setting the <cite>optional</cite> argument to True will cause the query pattern to match even
if this relationship doesn&#8217;t exist in a particular instance.</p>
</dd></dl>

</div>
<div class="section" id="property">
<h2>Property<a class="headerlink" href="#property" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: <a class="reference internal" href="#music21.musicNet.Entity" title="music21.musicNet.Entity"><tt class="xref py py-class docutils literal"><span class="pre">Entity</span></tt></a></p>
<dl class="class">
<dt id="music21.musicNet.Property">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Property</tt><big>(</big><em>query</em>, <em>parent</em>, <em>name</em><big>)</big><a class="headerlink" href="#music21.musicNet.Property" title="Permalink to this definition">¶</a></dt>
<dd><p>An object representing a property of a node or relationship in the database.</p>
<p>Accessing an attribute of a <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> or <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a> will return a
<a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a> object, which can be used
with the <a class="reference internal" href="#music21.musicNet.Query.addComparisonFilter" title="music21.musicNet.Query.addComparisonFilter"><tt class="xref py py-meth docutils literal"><span class="pre">Query.addComparisonFilter()</span></tt></a> and <a class="reference internal" href="#music21.musicNet.Query.addReturns" title="music21.musicNet.Query.addReturns"><tt class="xref py py-meth docutils literal"><span class="pre">Query.addReturns()</span></tt></a>
methods.</p>
</dd></dl>

</div>
<div class="section" id="filter">
<h2>Filter<a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: <a class="reference internal" href="#music21.musicNet.Entity" title="music21.musicNet.Entity"><tt class="xref py py-class docutils literal"><span class="pre">Entity</span></tt></a></p>
<dl class="class">
<dt id="music21.musicNet.Filter">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Filter</tt><big>(</big><em>query</em>, <em>pre</em>, <em>operator</em>, <em>post</em><big>)</big><a class="headerlink" href="#music21.musicNet.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>An object representing a filter phrase in a query, which is a condition
that must be true for the query to match.</p>
<p>The <cite>pre</cite> and <cite>post</cite> arguments are the values that are being tested, and should each be either:</p>
<ul class="simple">
<li>an attribute of a <a class="reference internal" href="#music21.musicNet.Node" title="music21.musicNet.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> or <a class="reference internal" href="#music21.musicNet.Relationship" title="music21.musicNet.Relationship"><tt class="xref py py-class docutils literal"><span class="pre">Relationship</span></tt></a> (which will return a
<a class="reference internal" href="#music21.musicNet.Property" title="music21.musicNet.Property"><tt class="xref py py-class docutils literal"><span class="pre">Property</span></tt></a> object), or</li>
<li>some text or a number.</li>
</ul>
<p>The list of available node and relationship properties can be obtained
from the <a class="reference internal" href="#music21.musicNet.Database.printStructure" title="music21.musicNet.Database.printStructure"><tt class="xref py py-meth docutils literal"><span class="pre">Database.printStructure()</span></tt></a> method.</p>
<p>The <cite>operator</cite> argument is a text string of the comparison we want to test
between the two properties. The available comparison operators are
<cite>=, &lt;&gt;, &lt;, &gt;, &lt;=,</cite> and <cite>&gt;=</cite>.</p>
</dd></dl>

</div>
<div class="section" id="moment">
<h2>Moment<a class="headerlink" href="#moment" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer" title="music21.base.JSONSerializer"><tt class="xref py py-class docutils literal"><span class="pre">JSONSerializer</span></tt></a></p>
<dl class="class">
<dt id="music21.musicNet.Moment">
<em class="property">class </em><tt class="descclassname">music21.musicNet.</tt><tt class="descname">Moment</tt><big>(</big><em>components</em>, <em>*arguments</em><big>)</big><a class="headerlink" href="#music21.musicNet.Moment" title="Permalink to this definition">¶</a></dt>
<dd><p>This object is similar in purpose to a
<a class="reference internal" href="moduleVoiceLeading.html#music21.voiceLeading.VerticalSlice" title="music21.voiceLeading.VerticalSlice"><tt class="xref py py-class docutils literal"><span class="pre">VerticalSlice</span></tt></a> in that it contains every
<a class="reference internal" href="moduleNote.html#music21.note.Note" title="music21.note.Note"><tt class="xref py py-class docutils literal"><span class="pre">Note</span></tt></a> that occurs at a given offset in a
<a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><tt class="xref py py-class docutils literal"><span class="pre">Score</span></tt></a>. (Notes are stored as references
to the original objects in <tt class="xref py py-class docutils literal"><span class="pre">WeakSet</span></tt> objects.) A Moment acts like a
<a class="reference internal" href="moduleSpanner.html#music21.spanner.Spanner" title="music21.spanner.Spanner"><tt class="xref py py-class docutils literal"><span class="pre">Spanner</span></tt></a> placed at the end of a Score.</p>
<p>A Moment can serve the same function as a VerticalSlice or a call
to <a class="reference internal" href="moduleStream.html#music21.stream.Stream.getElementsByOffset" title="music21.stream.Stream.getElementsByOffset"><tt class="xref py py-meth docutils literal"><span class="pre">getElementsByOffset()</span></tt></a> on a flattened Score,
providing easy access to all the Notes active at a particular offset.
It is also a place to store information about that moment in the score, such as
chord quality or pitch-class set.</p>
<p>When a Score with Moments is added to a <a class="reference internal" href="#music21.musicNet.Database" title="music21.musicNet.Database"><tt class="xref py py-class docutils literal"><span class="pre">Database</span></tt></a> object, it will
add vertical relationships between Notes (<cite>NoteSimultaneousWithNote</cite>). It
will also add Moment nodes to the database, along with their corresponding
Note relationships (<cite>NoteStartsAtMoment</cite> and <cite>NoteSustainedAtMoment</cite>).</p>
<p>Typically Moments are added to a score via the <tt class="xref py py-meth docutils literal"><span class="pre">musicNet.addMomentsToScore()</span></tt>
function.</p>
<p><strong>Moment</strong> <strong>attributes</strong></p>
<blockquote>
<div>Attributes inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>: <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.classSortOrder" title="music21.base.Music21Object.classSortOrder"><tt class="xref py py-attr docutils literal"><span class="pre">classSortOrder</span></tt></a>, <tt class="xref py py-attr docutils literal"><span class="pre">isSpanner</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">isStream</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">isVariant</span></tt></div></blockquote>
<p><strong>Moment</strong> <strong>properties</strong></p>
<blockquote>
<div><p>Properties inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>: <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.activeSite" title="music21.base.Music21Object.activeSite"><tt class="xref py py-attr docutils literal"><span class="pre">activeSite</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beat" title="music21.base.Music21Object.beat"><tt class="xref py py-attr docutils literal"><span class="pre">beat</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatDuration" title="music21.base.Music21Object.beatDuration"><tt class="xref py py-attr docutils literal"><span class="pre">beatDuration</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatStr" title="music21.base.Music21Object.beatStr"><tt class="xref py py-attr docutils literal"><span class="pre">beatStr</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatStrength" title="music21.base.Music21Object.beatStrength"><tt class="xref py py-attr docutils literal"><span class="pre">beatStrength</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.classes" title="music21.base.Music21Object.classes"><tt class="xref py py-attr docutils literal"><span class="pre">classes</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.derivationHierarchy" title="music21.base.Music21Object.derivationHierarchy"><tt class="xref py py-attr docutils literal"><span class="pre">derivationHierarchy</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.duration" title="music21.base.Music21Object.duration"><tt class="xref py py-attr docutils literal"><span class="pre">duration</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isGrace" title="music21.base.Music21Object.isGrace"><tt class="xref py py-attr docutils literal"><span class="pre">isGrace</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.measureNumber" title="music21.base.Music21Object.measureNumber"><tt class="xref py py-attr docutils literal"><span class="pre">measureNumber</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.offset" title="music21.base.Music21Object.offset"><tt class="xref py py-attr docutils literal"><span class="pre">offset</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.priority" title="music21.base.Music21Object.priority"><tt class="xref py py-attr docutils literal"><span class="pre">priority</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.seconds" title="music21.base.Music21Object.seconds"><tt class="xref py py-attr docutils literal"><span class="pre">seconds</span></tt></a></p>
<p>Properties inherited from <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer" title="music21.base.JSONSerializer"><tt class="xref py py-class docutils literal"><span class="pre">JSONSerializer</span></tt></a>: <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer.json" title="music21.base.JSONSerializer.json"><tt class="xref py py-attr docutils literal"><span class="pre">json</span></tt></a></p>
</div></blockquote>
<p><strong>Moment</strong> <strong>methods</strong></p>
<blockquote>
<div><dl class="method">
<dt id="music21.musicNet.Moment.getComponents">
<tt class="descname">getComponents</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.musicNet.Moment.getComponents" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contents of the object as a <tt class="xref py py-class docutils literal"><span class="pre">weakref.WeakSet</span></tt>. This is simply the
union of two of the object&#8217;s attributes: <cite>sameOffset</cite> and <cite>simultaneous</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="music21.musicNet.Moment.addComponents">
<tt class="descname">addComponents</tt><big>(</big><em>components</em>, <em>*arguments</em><big>)</big><a class="headerlink" href="#music21.musicNet.Moment.addComponents" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a <a class="reference internal" href="moduleNote.html#music21.note.Note" title="music21.note.Note"><tt class="xref py py-class docutils literal"><span class="pre">Note</span></tt></a> object (or a list of Notes) to the
object. If a Note has the same offset as this object, a reference to it
is added to <cite>sameOffset</cite>. Otherwise a reference is added to <cite>simultaneous</cite>.</p>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><tt class="xref py py-class docutils literal"><span class="pre">Music21Object</span></tt></a>: <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.addContext" title="music21.base.Music21Object.addContext"><tt class="xref py py-meth docutils literal"><span class="pre">addContext()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.addLocation" title="music21.base.Music21Object.addLocation"><tt class="xref py py-meth docutils literal"><span class="pre">addLocation()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.addLocationAndActiveSite" title="music21.base.Music21Object.addLocationAndActiveSite"><tt class="xref py py-meth docutils literal"><span class="pre">addLocationAndActiveSite()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.freezeIds" title="music21.base.Music21Object.freezeIds"><tt class="xref py py-meth docutils literal"><span class="pre">freezeIds()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getAllContextsByClass" title="music21.base.Music21Object.getAllContextsByClass"><tt class="xref py py-meth docutils literal"><span class="pre">getAllContextsByClass()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getCommonSiteIds" title="music21.base.Music21Object.getCommonSiteIds"><tt class="xref py py-meth docutils literal"><span class="pre">getCommonSiteIds()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getCommonSites" title="music21.base.Music21Object.getCommonSites"><tt class="xref py py-meth docutils literal"><span class="pre">getCommonSites()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getContextAttr" title="music21.base.Music21Object.getContextAttr"><tt class="xref py py-meth docutils literal"><span class="pre">getContextAttr()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getContextByClass" title="music21.base.Music21Object.getContextByClass"><tt class="xref py py-meth docutils literal"><span class="pre">getContextByClass()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getOffsetBySite" title="music21.base.Music21Object.getOffsetBySite"><tt class="xref py py-meth docutils literal"><span class="pre">getOffsetBySite()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getSiteIds" title="music21.base.Music21Object.getSiteIds"><tt class="xref py py-meth docutils literal"><span class="pre">getSiteIds()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getSites" title="music21.base.Music21Object.getSites"><tt class="xref py py-meth docutils literal"><span class="pre">getSites()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getSpannerSites" title="music21.base.Music21Object.getSpannerSites"><tt class="xref py py-meth docutils literal"><span class="pre">getSpannerSites()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hasContext" title="music21.base.Music21Object.hasContext"><tt class="xref py py-meth docutils literal"><span class="pre">hasContext()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hasSite" title="music21.base.Music21Object.hasSite"><tt class="xref py py-meth docutils literal"><span class="pre">hasSite()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hasSpannerSite" title="music21.base.Music21Object.hasSpannerSite"><tt class="xref py py-meth docutils literal"><span class="pre">hasSpannerSite()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hasVariantSite" title="music21.base.Music21Object.hasVariantSite"><tt class="xref py py-meth docutils literal"><span class="pre">hasVariantSite()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isClassOrSubclass" title="music21.base.Music21Object.isClassOrSubclass"><tt class="xref py py-meth docutils literal"><span class="pre">isClassOrSubclass()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.mergeAttributes" title="music21.base.Music21Object.mergeAttributes"><tt class="xref py py-meth docutils literal"><span class="pre">mergeAttributes()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.next" title="music21.base.Music21Object.next"><tt class="xref py py-meth docutils literal"><span class="pre">next()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.previous" title="music21.base.Music21Object.previous"><tt class="xref py py-meth docutils literal"><span class="pre">previous()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.purgeLocations" title="music21.base.Music21Object.purgeLocations"><tt class="xref py py-meth docutils literal"><span class="pre">purgeLocations()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.purgeOrphans" title="music21.base.Music21Object.purgeOrphans"><tt class="xref py py-meth docutils literal"><span class="pre">purgeOrphans()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.purgeUndeclaredIds" title="music21.base.Music21Object.purgeUndeclaredIds"><tt class="xref py py-meth docutils literal"><span class="pre">purgeUndeclaredIds()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.removeLocationBySite" title="music21.base.Music21Object.removeLocationBySite"><tt class="xref py py-meth docutils literal"><span class="pre">removeLocationBySite()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.removeLocationBySiteId" title="music21.base.Music21Object.removeLocationBySiteId"><tt class="xref py py-meth docutils literal"><span class="pre">removeLocationBySiteId()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.searchActiveSiteByAttr" title="music21.base.Music21Object.searchActiveSiteByAttr"><tt class="xref py py-meth docutils literal"><span class="pre">searchActiveSiteByAttr()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.setContextAttr" title="music21.base.Music21Object.setContextAttr"><tt class="xref py py-meth docutils literal"><span class="pre">setContextAttr()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.setOffsetBySite" title="music21.base.Music21Object.setOffsetBySite"><tt class="xref py py-meth docutils literal"><span class="pre">setOffsetBySite()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.show" title="music21.base.Music21Object.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitAtDurations" title="music21.base.Music21Object.splitAtDurations"><tt class="xref py py-meth docutils literal"><span class="pre">splitAtDurations()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitAtQuarterLength" title="music21.base.Music21Object.splitAtQuarterLength"><tt class="xref py py-meth docutils literal"><span class="pre">splitAtQuarterLength()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitByQuarterLengths" title="music21.base.Music21Object.splitByQuarterLengths"><tt class="xref py py-meth docutils literal"><span class="pre">splitByQuarterLengths()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.unfreezeIds" title="music21.base.Music21Object.unfreezeIds"><tt class="xref py py-meth docutils literal"><span class="pre">unfreezeIds()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.unwrapWeakref" title="music21.base.Music21Object.unwrapWeakref"><tt class="xref py py-meth docutils literal"><span class="pre">unwrapWeakref()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.wrapWeakref" title="music21.base.Music21Object.wrapWeakref"><tt class="xref py py-meth docutils literal"><span class="pre">wrapWeakref()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.Music21Object.write" title="music21.base.Music21Object.write"><tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt></a></p>
<p>Methods inherited from <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer" title="music21.base.JSONSerializer"><tt class="xref py py-class docutils literal"><span class="pre">JSONSerializer</span></tt></a>: <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer.jsonAttributes" title="music21.base.JSONSerializer.jsonAttributes"><tt class="xref py py-meth docutils literal"><span class="pre">jsonAttributes()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer.jsonComponentFactory" title="music21.base.JSONSerializer.jsonComponentFactory"><tt class="xref py py-meth docutils literal"><span class="pre">jsonComponentFactory()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer.jsonPrint" title="music21.base.JSONSerializer.jsonPrint"><tt class="xref py py-meth docutils literal"><span class="pre">jsonPrint()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer.jsonRead" title="music21.base.JSONSerializer.jsonRead"><tt class="xref py py-meth docutils literal"><span class="pre">jsonRead()</span></tt></a>, <a class="reference internal" href="moduleBase.html#music21.base.JSONSerializer.jsonWrite" title="music21.base.JSONSerializer.jsonWrite"><tt class="xref py py-meth docutils literal"><span class="pre">jsonWrite()</span></tt></a></p>
</div></blockquote>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleAbcBase.html" title="music21.abc.base"
             >next</a> |</li>
        <li class="right" >
          <a href="referenceCorpus.html" title="List of Works Found in the music21 Corpus"
             >previous</a> |</li>
        <li><a href="contents.html">music21</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2011 The music21 Project.
      Last updated on Jul 29, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>